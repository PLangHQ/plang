{
  "GoalName": "SetLayout",
  "Comment": null,
  "Text": "SetLayout",
  "GoalSteps": [
    {
      "Text": "if %options.Name% is empty then call AskWhichTemplate",
      "Comment": null,
      "ModuleType": "PLang.Modules.ConditionalModule",
      "Name": "check_options_name_and_call_askwhichtemplate",
      "Description": "Evaluate whether the variable %options.Name% is empty. If it is empty, then invoke the goal named AskWhichTemplate to determine or ask which template should be used.",
      "PrFileName": "01. check_options_name_and_call_askwhichtemplate.pr",
      "RelativePrPath": ".build\\modules\\UiModule\\Builder\\SetLayout\\01. check_options_name_and_call_askwhichtemplate.pr",
      "AbsolutePrFilePath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\.build\\modules\\UiModule\\Builder\\SetLayout\\01. check_options_name_and_call_askwhichtemplate.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-13T21:29:07.9992565+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 0,
      "LineNumber": 2,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "aa1cb55179e13a0571fdf564cd60d94cbecd76e92515bdca8d79c3c0ac972f84",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\UiModule\\Builder\\SetLayout.goal",
      "UserIntent": null
    },
    {
      "Text": "read /ui/template/%options.Name%/readme.md, allowReadFromSystem = true\n    write to %readme%",
      "Comment": null,
      "ModuleType": "PLang.Modules.FileModule",
      "Name": "read_ui_template_readme",
      "Description": "Access the file located at the path /ui/template/%options.Name%/readme.md with permission to read from the system enabled, then read its content and store the result into the variable %readme% for further use.",
      "PrFileName": "02. read_ui_template_readme.pr",
      "RelativePrPath": ".build\\modules\\UiModule\\Builder\\SetLayout\\02. read_ui_template_readme.pr",
      "AbsolutePrFilePath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\.build\\modules\\UiModule\\Builder\\SetLayout\\02. read_ui_template_readme.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-13T21:29:15.2522518+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 1,
      "LineNumber": 3,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "c1e784c508603ecc09cb3e626a2d993ab9290fc7356e77daa667daad97d3b448",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\UiModule\\Builder\\SetLayout.goal",
      "UserIntent": null
    },
    {
      "Text": "read /ui/template/%options.Name%/layout.html, \"\" if empty, write to %layoutExample%",
      "Comment": null,
      "ModuleType": "PLang.Modules.FileModule",
      "Name": "read_ui_template_layout_html",
      "Description": "Access the file located at the path constructed from /ui/template/ concatenated with the value of %options.Name% and /layout.html. If the file is empty or does not exist, use an empty string as the content. Store the resulting content into the variable %layoutExample% for further use.",
      "PrFileName": "03. read_ui_template_layout_html.pr",
      "RelativePrPath": ".build\\modules\\UiModule\\Builder\\SetLayout\\03. read_ui_template_layout_html.pr",
      "AbsolutePrFilePath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\.build\\modules\\UiModule\\Builder\\SetLayout\\03. read_ui_template_layout_html.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-13T21:29:21.7919236+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 2,
      "LineNumber": 5,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "2d4fc920d015b8f9ca1f856579186885ed990355d53ee10a764a0e33085e305b",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\UiModule\\Builder\\SetLayout.goal",
      "UserIntent": null
    },
    {
      "Text": "read %options.OutputFile%, \"\" if empty, write to %currentDesign%",
      "Comment": null,
      "ModuleType": "PLang.Modules.FileModule",
      "Name": "read_outputfile_write_to_currentdesign",
      "Description": "Attempt to read the content from the file path specified in the variable %options.OutputFile%. If the file is empty or does not exist, use an empty string as the content. Then store this content into the variable %currentDesign% for further use.",
      "PrFileName": "04. read_outputfile_write_to_currentdesign.pr",
      "RelativePrPath": ".build\\modules\\UiModule\\Builder\\SetLayout\\04. read_outputfile_write_to_currentdesign.pr",
      "AbsolutePrFilePath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\.build\\modules\\UiModule\\Builder\\SetLayout\\04. read_outputfile_write_to_currentdesign.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-13T21:29:28.8965879+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 3,
      "LineNumber": 6,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "dce554bfc6abe2a3eb296c5ad3e7114f60d390fb4a0948030a9bf1ef6157e4c1",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\UiModule\\Builder\\SetLayout.goal",
      "UserIntent": null
    },
    {
      "Text": "read llm/SetLayoutSystem.llm, load vars, allow system, write to %system%",
      "Comment": null,
      "ModuleType": "PLang.Modules.FileModule",
      "Name": "read_llm_setlayoutsystem_llm_and_write_to_system",
      "Description": "Read the file 'llm/SetLayoutSystem.llm', load its contents and variables, allow system variables to be included, and write the resulting content into the variable %system% for later use.",
      "PrFileName": "05. read_llm_setlayoutsystem_llm_and_write_to_system.pr",
      "RelativePrPath": ".build\\modules\\UiModule\\Builder\\SetLayout\\05. read_llm_setlayoutsystem_llm_and_write_to_system.pr",
      "AbsolutePrFilePath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\.build\\modules\\UiModule\\Builder\\SetLayout\\05. read_llm_setlayoutsystem_llm_and_write_to_system.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-13T21:29:35.4047317+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 4,
      "LineNumber": 7,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "ffa7066c06df3a6b14b2b2fece160a47a837356d512c928f0d5b6ca1c7677c99",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\UiModule\\Builder\\SetLayout.goal",
      "UserIntent": null
    },
    {
      "Text": "[llm] system: %system%\n        user: \"Make me a layout file for %option.Device%\"\n        scheme: {reasoning:string, html:string, styles:string[] javascripts:string[]}\n        write to %result%",
      "Comment": null,
      "ModuleType": "PLang.Modules.LlmModule",
      "Name": "generate_layout_file_for_device",
      "Description": "Send a prompt to the language model with the system context and a user request to create a layout file for the specified device. The response is expected to include reasoning, HTML content, styles, and JavaScript arrays, which will be stored in the %result% variable.",
      "PrFileName": "06. generate_layout_file_for_device.pr",
      "RelativePrPath": ".build\\modules\\UiModule\\Builder\\SetLayout\\06. generate_layout_file_for_device.pr",
      "AbsolutePrFilePath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\.build\\modules\\UiModule\\Builder\\SetLayout\\06. generate_layout_file_for_device.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-13T21:29:37.797165+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 5,
      "LineNumber": 8,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "0f6ec89b4b22f5531cecf079c84dda58ab0167513f384efb389ea0a0df634a43",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\UiModule\\Builder\\SetLayout.goal",
      "UserIntent": null
    },
    {
      "Text": "write %result.html% to %option.OutputFile%",
      "Comment": null,
      "ModuleType": "PLang.Modules.FileModule",
      "Name": "write_html_to_output_file",
      "Description": "Take the HTML content stored in the variable %result.html% and write it to the file path specified by the variable %option.OutputFile%. This operation saves the content to disk for later use or processing.",
      "PrFileName": "07. write_html_to_output_file.pr",
      "RelativePrPath": ".build\\modules\\UiModule\\Builder\\SetLayout\\07. write_html_to_output_file.pr",
      "AbsolutePrFilePath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\.build\\modules\\UiModule\\Builder\\SetLayout\\07. write_html_to_output_file.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-13T21:29:42.1646757+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 6,
      "LineNumber": 12,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "399ec377b4be8b987b08675a51130f09d65cf42b214d56cafd89724377d2638c",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\UiModule\\Builder\\SetLayout.goal",
      "UserIntent": null
    },
    {
      "Text": "return %result%",
      "Comment": null,
      "ModuleType": "PLang.Modules.VariableModule",
      "Name": "return_result_variable",
      "Description": "The step instructs to return the content of the variable named %result%, effectively ending the step or goal and passing this value as the output",
      "PrFileName": "08. return_result_variable.pr",
      "RelativePrPath": ".build\\modules\\UiModule\\Builder\\SetLayout\\08. return_result_variable.pr",
      "AbsolutePrFilePath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\.build\\modules\\UiModule\\Builder\\SetLayout\\08. return_result_variable.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-29T11:30:29.5688587+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 7,
      "LineNumber": 13,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "12c5c794c2cbf6db870fb3846ebaf74f669a47149713259465c8110fe52dbd19",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\UiModule\\Builder\\SetLayout.goal",
      "UserIntent": null
    }
  ],
  "SubGoals": [
    ".build\\modules\\UiModule\\Builder\\SetLayout\\AskWhichTemplate\\00. Goal.pr"
  ],
  "Description": "The SetLayout goal is designed to create a layout file based on specified options. It first checks if the name of the template is provided; if not, it prompts the user to select a template. It then reads the README and layout files associated with the specified template, as well as the current design from an output file. The goal also loads a system file that contains necessary variables. Finally, it generates a layout file based on the user's device and writes the result to the specified output file.",
  "Visibility": 1,
  "GoalFileName": "SetLayout.goal",
  "PrFileName": "00. Goal.pr",
  "RelativeGoalPath": "\\modules\\UiModule\\Builder\\SetLayout.goal",
  "RelativeGoalFolderPath": "\\modules\\UiModule\\Builder",
  "RelativePrPath": ".build\\modules\\UiModule\\Builder\\SetLayout\\00. Goal.pr",
  "RelativePrFolderPath": ".build\\modules\\UiModule\\Builder\\SetLayout",
  "AbsoluteGoalPath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\modules\\UiModule\\Builder\\SetLayout.goal",
  "AbsolutePrFilePath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\.build\\modules\\UiModule\\Builder\\SetLayout\\00. Goal.pr",
  "AbsolutePrFolderPath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\.build\\modules\\UiModule\\Builder\\SetLayout",
  "AbsoluteAppStartupFolderPath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system",
  "RelativeAppStartupFolderPath": null,
  "BuilderVersion": "1.0.0.0",
  "GoalInfo": null,
  "Injections": [],
  "Signature": null,
  "Hash": "e634f9ed41bc475d620a31e0990a8014121f6961e764c669564b044c47432ff2",
  "IncomingVariablesRequired": {
    "options.Name": "The name of the template to be used for the layout.",
    "options.OutputFile": "The file path where the generated layout will be saved.",
    "option.Device": "The device type for which the layout is being created."
  },
  "DataSourceName": null,
  "IsSetup": false,
  "IsEvent": false
}