{
  "GoalName": "AskUserLlm",
  "Comment": null,
  "Text": "AskUserLlm",
  "GoalSteps": [
    {
      "Text": "validate %developerInstructionForResult%, %text%, %options% is not empty",
      "Comment": null,
      "ModuleType": "PLang.Modules.ValidateModule",
      "Name": "validate_variables_not_empty",
      "Description": "Check that the variables developerInstructionForResult, text, and options each contain some value and are not empty or null, to ensure they have valid data before further processing",
      "PrFileName": "01. validate_variables_not_empty.pr",
      "RelativePrPath": ".build\\modules\\OutputModule\\AskUserLlm\\01. validate_variables_not_empty.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-29T11:29:55.3586143+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 0,
      "LineNumber": 2,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "143df07a47c635134100b7b45652b7119acb0f17f9ff3f4c836f97aa08ade149",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\OutputModule\\AskUserLlm.goal",
      "UserIntent": null
    },
    {
      "Text": "read file %!plang.osPath%/modules/OutputModule/llm/AskUserSystem.llm, load vars, write to %askSystem%",
      "Comment": null,
      "ModuleType": "PLang.Modules.FileModule",
      "Name": "read_file_and_load_vars_to_asksystem",
      "Description": "Read the file located at the path constructed by combining the variable %!plang.osPath% with the relative path /modules/OutputModule/llm/AskUserSystem.llm, load any variables contained within that file, and write the loaded content into the variable %askSystem%",
      "PrFileName": "02. read_file_and_load_vars_to_asksystem.pr",
      "RelativePrPath": ".build\\modules\\OutputModule\\AskUserLlm\\02. read_file_and_load_vars_to_asksystem.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-13T21:24:45.4128484+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 1,
      "LineNumber": 3,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "4329629f0aa5209c668d5f7715ea513937557e0f87b6270b745504e50fe587a2",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\OutputModule\\AskUserLlm.goal",
      "UserIntent": null
    },
    {
      "Text": "[llm] system: %askSystem%\n    continue from last: false\n    model: \"gpt-4o\"\n    response type: %!plang.output%\n    write to %content%",
      "Comment": null,
      "ModuleType": "PLang.Modules.LlmModule",
      "Name": "llm_generate_response_with_system_prompt",
      "Description": "Send a request to the LLM with the system prompt stored in %askSystem%, specifying not to continue from the last conversation, using the GPT-4o model, expecting a response type defined by %!plang.output%, and write the generated response into the %content% variable",
      "PrFileName": "03. llm_generate_response_with_system_prompt.pr",
      "RelativePrPath": ".build\\modules\\OutputModule\\AskUserLlm\\03. llm_generate_response_with_system_prompt.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-13T21:24:52.8571268+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 2,
      "LineNumber": 4,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "61a12a2be9dc02cd6f0e1b5bd832961a4fea18212e98f5279ce805b34e4a6674",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\OutputModule\\AskUserLlm.goal",
      "UserIntent": null
    },
    {
      "Text": "ask user %content%, write to %answer%",
      "Comment": null,
      "ModuleType": "PLang.Modules.OutputModule",
      "Name": "ask_user_and_store_answer",
      "Description": "Display the content of the variable %content% as a prompt to the user and wait for the user's input, then store the user's input into the variable %answer% for further processing.",
      "PrFileName": "04. ask_user_and_store_answer.pr",
      "RelativePrPath": ".build\\modules\\OutputModule\\AskUserLlm\\04. ask_user_and_store_answer.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-10-03T09:34:13.5475437+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 3,
      "LineNumber": 9,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "59dab2748efa0c7078324a76142d6338f489d5ac9c8b1dc98aadf4b8a66da0af",
      "BuilderVersion": "1.0.0.0",
      "RelativeGoalPath": "\\modules\\OutputModule\\AskUserLlm.goal",
      "UserIntent": null
    },
    {
      "Text": "read file %!plang.osPath%/modules/OutputModule/llm/AnswerUserSystem.llm, load vars, write to %answerSystem%",
      "Comment": null,
      "ModuleType": "PLang.Modules.FileModule",
      "Name": "read_file_and_load_vars_to_answer_system",
      "Description": "Access the file located at the path constructed by combining the base path %!plang.osPath% with the relative path /modules/OutputModule/llm/AnswerUserSystem.llm, read its content, load any variables defined within that file, and store the result into the variable %answerSystem%",
      "PrFileName": "05. read_file_and_load_vars_to_answer_system.pr",
      "RelativePrPath": ".build\\modules\\OutputModule\\AskUserLlm\\05. read_file_and_load_vars_to_answer_system.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-13T21:25:03.8210279+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 4,
      "LineNumber": 10,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "20fdd9157e2008bbc0498ab03b5c14b0c4ae691b06344600959ec036031b6a58",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\OutputModule\\AskUserLlm.goal",
      "UserIntent": null
    },
    {
      "Text": "set default value %scheme% = \"{result:object|null}\"",
      "Comment": null,
      "ModuleType": "PLang.Modules.VariableModule",
      "Name": "set_default_value_scheme",
      "Description": "Assign the string '{result:object|null}' as the default value to the variable named %scheme%, so that if %scheme% is empty or undefined, it will hold this default JSON schema string",
      "PrFileName": "06. set_default_value_scheme.pr",
      "RelativePrPath": ".build\\modules\\OutputModule\\AskUserLlm\\06. set_default_value_scheme.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-13T21:25:06.4001817+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 5,
      "LineNumber": 11,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "2f46ac4d82f397a43e959c5943a1dd85f97e85a8dc69cd07ab7a8084875d7b21",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\OutputModule\\AskUserLlm.goal",
      "UserIntent": null
    },
    {
      "Text": "[llm]  system: %answerSystem%\n    user: %answer%\n    continue from last: true\n    scheme:%scheme% \n    write to %result%",
      "Comment": null,
      "ModuleType": "PLang.Modules.LlmModule",
      "Name": "llm_request_with_continuation_and_scheme",
      "Description": "Send a request to the language model with the system prompt from %answerSystem%, user input from %answer%, continue the conversation from the last interaction, use the specified scheme %scheme%, and write the language model's response to the variable %result%",
      "PrFileName": "07. llm_request_with_continuation_and_scheme.pr",
      "RelativePrPath": ".build\\modules\\OutputModule\\AskUserLlm\\07. llm_request_with_continuation_and_scheme.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-13T21:25:12.4763385+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 6,
      "LineNumber": 12,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "96e3c6632bc2837a113dfec2056207f1cd60b3f8cdf36105842ef7fa4d7770ef",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\OutputModule\\AskUserLlm.goal",
      "UserIntent": null
    },
    {
      "Text": "return %result%",
      "Comment": null,
      "ModuleType": "PLang.Modules.VariableModule",
      "Name": "return_result_variable",
      "Description": "The step returns the content of the variable named %result%, making it the output or return value of the current execution context",
      "PrFileName": "08. return_result_variable.pr",
      "RelativePrPath": ".build\\modules\\OutputModule\\AskUserLlm\\08. return_result_variable.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-07-29T11:29:59.4423113+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 7,
      "LineNumber": 17,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "15950fba4d0e918d98d436791240170356865ef53009f21e0916d4f04d4f3dfe",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\modules\\OutputModule\\AskUserLlm.goal",
      "UserIntent": null
    }
  ],
  "SubGoals": [],
  "Description": "The AskUserLlm goal is designed to interact with a user by validating input instructions, reading and processing files related to user queries, and returning a structured result. It first checks that the developer instructions, text, and options are not empty. It then loads a system prompt from a specified file, sends it to a language model, and captures the response. The user is asked for input based on this response, which is then processed by another system prompt. The final output is structured according to a predefined scheme and returned as a result.",
  "Visibility": 1,
  "GoalFileName": "AskUserLlm.goal",
  "PrFileName": "00. Goal.pr",
  "RelativeGoalPath": "\\modules\\OutputModule\\AskUserLlm.goal",
  "RelativeGoalFolderPath": "\\modules\\OutputModule",
  "RelativePrPath": ".build\\modules\\OutputModule\\AskUserLlm\\00. Goal.pr",
  "RelativePrFolderPath": ".build\\modules\\OutputModule\\AskUserLlm",
  "AbsoluteGoalPath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\modules\\OutputModule\\AskUserLlm.goal",
  "AbsolutePrFilePath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\.build\\modules\\OutputModule\\AskUserLlm\\00. Goal.pr",
  "AbsolutePrFolderPath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system\\.build\\modules\\OutputModule\\AskUserLlm",
  "AbsoluteAppStartupFolderPath": "C:\\Users\\Ingi Gauti\\source\\repos\\plang\\system",
  "RelativeAppStartupFolderPath": null,
  "BuilderVersion": "1.0.0.0",
  "GoalInfo": null,
  "Injections": [],
  "Signature": null,
  "Hash": "682a01aadd143b76087676a0fe391a69187b4a12940a114126472f9420a0e032",
  "IncomingVariablesRequired": {
    "developerInstructionForResult": "Instructions provided by the developer that guide the expected outcome.",
    "text": "The text input that will be processed or queried.",
    "options": "Additional options that may influence the processing of the input."
  },
  "DataSourceName": null,
  "IsSetup": false,
  "IsEvent": false
}