{
  "Text": "bind before event to all steps(including private), call CheckBreakpoint",
  "ModuleType": "PLang.Modules.EventModule",
  "GenericFunctionType": "PLang.Modules.BaseBuilder+GenericFunction",
  "Function": {
    "Reasoning": "User wants to bind a 'before' event to all steps, including private ones, and call the goal 'CheckBreakpoint' before each step executes. EventType is 'Before', EventScope is 'Step', GoalToBindTo is all goals (pattern '*'), IncludePrivate is true, WaitForExecution is true (default to wait), and the goal to call is 'CheckBreakpoint' with no parameters.",
    "Name": "BindEvent",
    "Parameters": [
      {
        "Type": "PLang.Events.EventBinding",
        "Name": "eventBinding",
        "Value": {
          "EventType": "Before",
          "EventScope": "Step",
          "GoalToBindTo": {
            "Name": ".*"
          },
          "GoalToCall": {
            "Name": "CheckBreakpoint",
            "Parameters": {},
            "IsAsync": false,
            "WaitBeforeExecutingInMs": 0,
            "AfterExecution": null
          },
          "IncludePrivate": true,
          "StepNumber": null,
          "StepText": null,
          "WaitForExecution": true,
          "RunOnlyOnStartParameter": null,
          "OnErrorContinueNextStep": true,
          "ErrorKey": null,
          "ErrorMessage": null,
          "StatusCode": null,
          "ExceptionType": null,
          "IsLocal": true,
          "IncludeOsGoals": false,
          "IsOnStep": true
        }
      }
    ],
    "ReturnValues": null
  },
  "Properties": {
    "Parameters": {
      "eventBinding": {
        "Name": "eventBinding",
        "FullTypeName": "PLang.Events.EventBinding"
      }
    },
    "ReturnValues": {}
  },
  "BuilderVersion": "1.0.0.0",
  "Hash": null,
  "SignedMessage": null,
  "LlmRequest": [
    {
      "temperature": 0.0,
      "top_p": 0.0,
      "frequencyPenalty": 0.0,
      "presencePenalty": 0.0,
      "maxLength": 4000,
      "llmResponseType": "json",
      "scheme": "{\"Reasoning\" : System.String, \"Name\" : System.String, \"Parameters\" : System.Collections.Generic.List`1[PLang.Modules.BaseBuilder+Parameter] = null, \"ReturnValues\" : System.Collections.Generic.List`1[PLang.Modules.BaseBuilder+ReturnValue] = null}\n\nAdditional information about objects:\nPLang.Modules.BaseBuilder+Parameter : {\"Type\" : System.String, \"Name\" : System.String, \"Value\" : System.Object}\nPLang.Modules.BaseBuilder+ReturnValue : {\"Type\" : System.String, \"VariableName\" : System.String, \"Value\" : System.Object = null}",
      "model": "gpt-4.1-mini",
      "promptMessage": [
        {
          "role": "system",
          "content": [
            {
              "type": "text",
              "text": "\r\nUser will provide event binding, you will be provided with c# model to map the code to. \r\n\r\n\r\nEventType is required, Error defaults to 'After' EventType if not defined by user.\r\nEventScope defines at what stage the event should run, it can be on goal, step, start of app, end of app, etc. See EventScope definition below.\r\nGoalToBindTo is required. This can a specific Goal or more generic, such as bind to all goals in specific folder. When undefined set as *. Any pattern from user must be translated to regex version without ^ and $, e.g. user defines folder matching pattern such as /ui/*, it should then be the regex version of that: /ui/.*\r\nGoalToCall is required. This should be a specific goal, keep path as user defines  \r\nGoalToCallParameters parameters that user wants to sent to goal\r\nStepNumber & StepText reference a specific step that the user wants to bind to\r\nIncludePrivate defines if user wants to include private goals, he needs to specify this specifically to be true\r\nWaitForExecution: indicates if goal should by run and forget\r\nRunOnlyOnStartParameter: parameters at the startup of the application, it should start with --, for example --debug\r\nErrorKey: is key of the error message (case insensitive)\r\nErrorMessage: checks if error.Message contains a message  (case insensitive)\r\nErrorStatusCode: matches the status code of the error message\r\nMap correct number to EventType and EventScope\r\nInclude OS goals must be defined by user when set to true\r\n\r\nEventType { Before , After }\r\nEventScope { StartOfApp, EndOfApp, AppError, RunningApp, Goal, Step, Module, GoalError, StepError, ModuleError }\r\n\r\n\r\n<examples>\r\n- before goal end ... => EventType = After, EventScope = Goal  //indicates that this should run just before it end or after it has runned\r\n<examples>\r\n"
            },
            {
              "type": "text",
              "text": "You MUST respond in JSON, scheme:\r\n {\"Reasoning\" : System.String, \"Name\" : System.String, \"Parameters\" : System.Collections.Generic.List`1[PLang.Modules.BaseBuilder+Parameter] = null, \"ReturnValues\" : System.Collections.Generic.List`1[PLang.Modules.BaseBuilder+ReturnValue] = null}  Additional information about objects: PLang.Modules.BaseBuilder+Parameter : {\"Type\" : System.String, \"Name\" : System.String, \"Value\" : System.Object} PLang.Modules.BaseBuilder+ReturnValue : {\"Type\" : System.String, \"VariableName\" : System.String, \"Value\" : System.Object = null}"
            }
          ]
        },
        {
          "role": "assistant",
          "content": [
            {
              "type": "text",
              "text": "## Canonical User Intent (already disambiguated by LLM)\r\nBind a 'before' event handler to all steps, including private ones, so that the CheckBreakpoint goal is called before each step executes\n## functions available starts ##\r\n{\"Name\":\"PLang.Modules.EventModule.Program\",\"Description\":\"Bind an event to app, goal, step, error, and any kind of custom errors.\\r\\nExample:\\r\\n- run before app starts, call goal Starting\\r\\n- run on each step, call StepAfter (before|after(default))\\r\\n- on error call HandleError\\r\\n\",\"Methods\":[{\"MethodName\":\"BindEvent\",\"Parameters\":[{\"Type\":\"PLang.Events.EventBinding\",\"Name\":\"eventBinding\",\"Description\":\"see PLang.Events.EventBinding information in SupportingObjects)\",\"IsRequired\":true,\"ParameterSignature\":\"// see PLang.Events.EventBinding information in SupportingObjects)\\r\\nPLang.Events.EventBinding eventBinding\"}],\"Examples\":[],\"MethodSignature\":\"BindEvent(// see PLang.Events.EventBinding information in SupportingObjects)\\r\\nPLang.Events.EventBinding eventBinding) : void\"},{\"MethodName\":\"RunEvents\",\"Parameters\":[{\"Type\":\"System.Collections.Generic.List`1[PLang.Events.EventBinding]\",\"Name\":\"eventBinding\",\"Description\":\"see System.Collections.Generic.List`1[PLang.Events.EventBinding] information in SupportingObjects)\",\"IsRequired\":true,\"ParameterSignature\":\"// see System.Collections.Generic.List`1[PLang.Events.EventBinding] information in SupportingObjects)\\r\\nSystem.Collections.Generic.List`1[PLang.Events.EventBinding] eventBinding\"}],\"Examples\":[],\"MethodSignature\":\"RunEvents(// see System.Collections.Generic.List`1[PLang.Events.EventBinding] information in SupportingObjects)\\r\\nSystem.Collections.Generic.List`1[PLang.Events.EventBinding] eventBinding) : void\"}],\"SupportingObjects\":[{\"Type\":\"PLang.Models.GoalToBindTo\",\"Name\":\"GoalToBindTo\",\"Description\":\"Name of goal to bind to, name can be * to bind to all, name can be regex\",\"TypeProperties\":[{\"Type\":\"System.String\",\"Name\":\"Name\",\"IsRequired\":true}],\"IsRequired\":true,\"ParameterSignature\":\"// Name of goal to bind to, name can be * to bind to all, name can be regex\\r\\nPLang.Models.GoalToBindTo(System.String Name\\r\\n)\\nUsed in methods: BindEvent, RunEvents\"},{\"Type\":\"PLang.Models.GoalToCallInfo\",\"Name\":\"GoalToCall\",\"Description\":\"Name of goal and parameters that is called, e.g. in condition, loops, run goal. Keep Name as user defines it with path\",\"TypeProperties\":[{\"Type\":\"System.String\",\"Name\":\"Name\",\"IsRequired\":true},{\"Type\":\"System.Collections.Generic.Dictionary`2[System.String,System.Object]\",\"Name\":\"Parameters\",\"IsRequired\":false,\"ParameterSignature\":\"System.Collections.Generic.Dictionary`2[System.String,System.Object]? Parameters\"},{\"Type\":\"System.Boolean\",\"Name\":\"IsAsync\",\"Description\":\"Doesn't wait for goal response(run and forget, dont wait)\",\"IsRequired\":true},{\"Type\":\"System.Int32\",\"Name\":\"WaitBeforeExecutingInMs\",\"IsRequired\":true},{\"Type\":\"PLang.Models.GoalToCallInfo\",\"Name\":\"AfterExecution\",\"Description\":\"Name of goal and parameters that is called, e.g. in condition, loops, run goal. Keep Name as user defines it with path\",\"TypeProperties\":[],\"IsRequired\":false,\"ParameterSignature\":\"// Name of goal and parameters that is called, e.g. in condition, loops, run goal. Keep Name as user defines it with path\\r\\nPLang.Models.GoalToCallInfo()\\nUsed in methods: \"}],\"IsRequired\":true,\"ParameterSignature\":\"// Name of goal and parameters that is called, e.g. in condition, loops, run goal. Keep Name as user defines it with path\\r\\nPLang.Models.GoalToCallInfo(System.String Name\\r\\n, System.Collections.Generic.Dictionary`2[System.String,System.Object]? Parameters\\r\\n, // Doesn't wait for goal response(run and forget, dont wait)\\r\\nSystem.Boolean IsAsync\\r\\n, System.Int32 WaitBeforeExecutingInMs\\r\\n, // Name of goal and parameters that is called, e.g. in condition, loops, run goal. Keep Name as user defines it with path\\r\\nPLang.Models.GoalToCallInfo? AfterExecution\\r\\n)\\nUsed in methods: BindEvent, RunEvents\"},{\"Type\":\"PLang.Events.EventBinding\",\"Name\":\"eventBinding\",\"TypeProperties\":[{\"Type\":\"System.String\",\"Name\":\"EventType\",\"IsRequired\":true},{\"Type\":\"System.String\",\"Name\":\"EventScope\",\"IsRequired\":true},{\"Type\":\"PLang.Models.GoalToBindTo\",\"Name\":\"GoalToBindTo\",\"Description\":\"see PLang.Models.GoalToBindTo information in SupportingObjects)\",\"IsRequired\":true,\"ParameterSignature\":\"// see PLang.Models.GoalToBindTo information in SupportingObjects)\\r\\nPLang.Models.GoalToBindTo GoalToBindTo\"},{\"Type\":\"PLang.Models.GoalToCallInfo\",\"Name\":\"GoalToCall\",\"Description\":\"see PLang.Models.GoalToCallInfo information in SupportingObjects)\",\"IsRequired\":true,\"ParameterSignature\":\"// see PLang.Models.GoalToCallInfo information in SupportingObjects)\\r\\nPLang.Models.GoalToCallInfo GoalToCall\"},{\"Type\":\"System.Boolean\",\"Name\":\"IncludePrivate\",\"IsRequired\":true},{\"Type\":\"System.Nullable`1[System.Int32]\",\"Name\":\"StepNumber\",\"IsRequired\":false},{\"Type\":\"System.String\",\"Name\":\"StepText\",\"IsRequired\":false},{\"Type\":\"System.Boolean\",\"Name\":\"WaitForExecution\",\"IsRequired\":true},{\"Type\":\"System.String[]\",\"Name\":\"RunOnlyOnStartParameter\",\"IsRequired\":false},{\"Type\":\"System.Boolean\",\"Name\":\"OnErrorContinueNextStep\",\"IsRequired\":true},{\"Type\":\"System.String\",\"Name\":\"ErrorKey\",\"IsRequired\":false},{\"Type\":\"System.String\",\"Name\":\"ErrorMessage\",\"IsRequired\":false},{\"Type\":\"System.Nullable`1[System.Int32]\",\"Name\":\"StatusCode\",\"IsRequired\":false},{\"Type\":\"System.String\",\"Name\":\"ExceptionType\",\"IsRequired\":false},{\"Type\":\"System.Boolean\",\"Name\":\"IsLocal\",\"IsRequired\":true},{\"Type\":\"System.Boolean\",\"Name\":\"IncludeOsGoals\",\"IsRequired\":true},{\"Type\":\"System.Boolean\",\"Name\":\"IsOnStep\",\"IsRequired\":true}],\"IsRequired\":false,\"ParameterSignature\":\"PLang.Events.EventBinding(System.String EventType\\r\\n, System.String EventScope\\r\\n, // see PLang.Models.GoalToBindTo information in SupportingObjects)\\r\\nPLang.Models.GoalToBindTo GoalToBindTo\\r\\n, // see PLang.Models.GoalToCallInfo information in SupportingObjects)\\r\\nPLang.Models.GoalToCallInfo GoalToCall\\r\\n, System.Boolean IncludePrivate\\r\\n, System.Nullable`1[System.Int32]? StepNumber\\r\\n, System.String? StepText\\r\\n, System.Boolean WaitForExecution\\r\\n, System.String[]? RunOnlyOnStartParameter\\r\\n, System.Boolean OnErrorContinueNextStep\\r\\n, System.String? ErrorKey\\r\\n, System.String? ErrorMessage\\r\\n, System.Nullable`1[System.Int32]? StatusCode\\r\\n, System.String? ExceptionType\\r\\n, System.Boolean IsLocal\\r\\n, System.Boolean IncludeOsGoals\\r\\n, System.Boolean IsOnStep\\r\\n)\\nUsed in methods: BindEvent\"},{\"Type\":\"System.Collections.Generic.List`1[PLang.Events.EventBinding]\",\"Name\":\"eventBinding\",\"TypeProperties\":[{\"Type\":\"System.String\",\"Name\":\"EventType\",\"IsRequired\":true},{\"Type\":\"System.String\",\"Name\":\"EventScope\",\"IsRequired\":true},{\"Type\":\"PLang.Models.GoalToBindTo\",\"Name\":\"GoalToBindTo\",\"Description\":\"see PLang.Models.GoalToBindTo information in SupportingObjects)\",\"IsRequired\":true,\"ParameterSignature\":\"// see PLang.Models.GoalToBindTo information in SupportingObjects)\\r\\nPLang.Models.GoalToBindTo GoalToBindTo\"},{\"Type\":\"PLang.Models.GoalToCallInfo\",\"Name\":\"GoalToCall\",\"Description\":\"see PLang.Models.GoalToCallInfo information in SupportingObjects)\",\"IsRequired\":true,\"ParameterSignature\":\"// see PLang.Models.GoalToCallInfo information in SupportingObjects)\\r\\nPLang.Models.GoalToCallInfo GoalToCall\"},{\"Type\":\"System.Boolean\",\"Name\":\"IncludePrivate\",\"IsRequired\":true},{\"Type\":\"System.Nullable`1[System.Int32]\",\"Name\":\"StepNumber\",\"IsRequired\":false},{\"Type\":\"System.String\",\"Name\":\"StepText\",\"IsRequired\":false},{\"Type\":\"System.Boolean\",\"Name\":\"WaitForExecution\",\"IsRequired\":true},{\"Type\":\"System.String[]\",\"Name\":\"RunOnlyOnStartParameter\",\"IsRequired\":false},{\"Type\":\"System.Boolean\",\"Name\":\"OnErrorContinueNextStep\",\"IsRequired\":true},{\"Type\":\"System.String\",\"Name\":\"ErrorKey\",\"IsRequired\":false},{\"Type\":\"System.String\",\"Name\":\"ErrorMessage\",\"IsRequired\":false},{\"Type\":\"System.Nullable`1[System.Int32]\",\"Name\":\"StatusCode\",\"IsRequired\":false},{\"Type\":\"System.String\",\"Name\":\"ExceptionType\",\"IsRequired\":false},{\"Type\":\"System.Boolean\",\"Name\":\"IsLocal\",\"IsRequired\":true},{\"Type\":\"System.Boolean\",\"Name\":\"IncludeOsGoals\",\"IsRequired\":true},{\"Type\":\"System.Boolean\",\"Name\":\"IsOnStep\",\"IsRequired\":true}],\"IsRequired\":false,\"ParameterSignature\":\"System.Collections.Generic.List`1[PLang.Events.EventBinding](System.String EventType\\r\\n, System.String EventScope\\r\\n, // see PLang.Models.GoalToBindTo information in SupportingObjects)\\r\\nPLang.Models.GoalToBindTo GoalToBindTo\\r\\n, // see PLang.Models.GoalToCallInfo information in SupportingObjects)\\r\\nPLang.Models.GoalToCallInfo GoalToCall\\r\\n, System.Boolean IncludePrivate\\r\\n, System.Nullable`1[System.Int32]? StepNumber\\r\\n, System.String? StepText\\r\\n, System.Boolean WaitForExecution\\r\\n, System.String[]? RunOnlyOnStartParameter\\r\\n, System.Boolean OnErrorContinueNextStep\\r\\n, System.String? ErrorKey\\r\\n, System.String? ErrorMessage\\r\\n, System.Nullable`1[System.Int32]? StatusCode\\r\\n, System.String? ExceptionType\\r\\n, System.Boolean IsLocal\\r\\n, System.Boolean IncludeOsGoals\\r\\n, System.Boolean IsOnStep\\r\\n)\\nUsed in methods: RunEvents\"}],\"SupportingEnums\":[]}\r\n## functions available ends ##"
            }
          ]
        },
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "bind before event to all steps(including private), call CheckBreakpoint"
            }
          ]
        }
      ],
      "type": "PLang.Modules.EventModule.Builder",
      "caching": true,
      "CacheKey": "012ea8b4e4b1754356c7fcb21fa69d7fa413525441346d8b41cfbb1adffa24ab",
      "RawResponse": "```json\n{\n  \"Reasoning\": \"User wants to bind a 'before' event to all steps, including private ones, and call the goal 'CheckBreakpoint' before each step executes. EventType is 'Before', EventScope is 'Step', GoalToBindTo is all goals (pattern '*'), IncludePrivate is true, WaitForExecution is true (default to wait), and the goal to call is 'CheckBreakpoint' with no parameters.\",\n  \"Name\": \"BindEvent\",\n  \"Parameters\": [\n    {\n      \"Type\": \"PLang.Events.EventBinding\",\n      \"Name\": \"eventBinding\",\n      \"Value\": {\n        \"EventType\": \"Before\",\n        \"EventScope\": \"Step\",\n        \"GoalToBindTo\": {\n          \"Name\": \".*\"\n        },\n        \"GoalToCall\": {\n          \"Name\": \"CheckBreakpoint\",\n          \"Parameters\": {},\n          \"IsAsync\": false,\n          \"WaitBeforeExecutingInMs\": 0,\n          \"AfterExecution\": null\n        },\n        \"IncludePrivate\": true,\n        \"StepNumber\": null,\n        \"StepText\": null,\n        \"WaitForExecution\": true,\n        \"RunOnlyOnStartParameter\": null,\n        \"OnErrorContinueNextStep\": true,\n        \"ErrorKey\": null,\n        \"ErrorMessage\": null,\n        \"StatusCode\": null,\n        \"ExceptionType\": null,\n        \"IsLocal\": true,\n        \"IncludeOsGoals\": false,\n        \"IsOnStep\": true\n      }\n    }\n  ],\n  \"ReturnValues\": null\n}\n```"
    }
  ]
}