{
  "GoalName": "AnalyzeGoal",
  "Comment": null,
  "GoalSteps": [
    {
      "Text": "write out \"Analyzing goal %goal.goalName% ...\"",
      "Comment": null,
      "ModuleType": "PLang.Modules.OutputModule",
      "Name": "write_out_analyzing_goal_message",
      "Description": "Output the message 'Analyzing goal %goal.goalName% ...' to the user or output stream, dynamically inserting the current goal's name into the message",
      "PrFileName": "01. write_out_analyzing_goal_message.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\01. write_out_analyzing_goal_message.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": "Very High",
      "Inconsistency": null,
      "Generated": "2025-12-06T23:05:41.2786828+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 0,
      "LineNumber": 13,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "c7bebafc06676ee9f130abdb900c71519c6afaba4353d1e36b5364a693ab7d67",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": "Display a message to the user indicating that the system is analyzing the specified goal"
    },
    {
      "Text": "[plang] get all modules (GetAllModules2), format:\"md\", write to %modules%",
      "Comment": null,
      "ModuleType": "PLang.Modules.PlangModule",
      "Name": "get_all_modules_formatted_markdown",
      "Description": "Invoke the PlangModule to retrieve all available modules using the GetAllModules2 command, format the output as markdown text, and write the formatted result into the variable %modules% for further use.",
      "PrFileName": "02. get_all_modules_formatted_markdown.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\02. get_all_modules_formatted_markdown.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-12-06T22:20:06.4156865+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 1,
      "LineNumber": 14,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "7029267a403abf5da67a72e9cf963762c6fa7f064e0cfcd63a24b7ee0c23d392",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": null
    },
    {
      "Text": "read llm/goalSystem.llm, load vars, write to %system%",
      "Comment": null,
      "ModuleType": "PLang.Modules.FileModule",
      "Name": "read_llm_goal_system_and_load_vars",
      "Description": "Read the content of the file located at 'llm/goalSystem.llm', extract or load variables from this content, and write the loaded variables into the %system% variable for further use.",
      "PrFileName": "03. read_llm_goal_system_and_load_vars.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\03. read_llm_goal_system_and_load_vars.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-12-06T22:20:09.1951927+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 2,
      "LineNumber": 15,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "c51664863c1f0296e04628596182af0a8f276926336d4b3d98be6e6b70b93536",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": null
    },
    {
      "Text": "[llm] system: %system%\n    user: %goal.Text%\n    scheme: %goalScheme%\n    write to %prGoal%",
      "Comment": null,
      "ModuleType": "PLang.Modules.LlmModule",
      "Name": "call_llm_with_system_user_and_scheme",
      "Description": "Send a request to the language model with the provided system prompt (%system%), user input (%goal.Text%), and response scheme (%goalScheme%), then write the LLM's response into the variable %prGoal%.",
      "PrFileName": "04. call_llm_with_system_user_and_scheme.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\04. call_llm_with_system_user_and_scheme.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-12-06T22:20:09.260602+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 3,
      "LineNumber": 16,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "982c0f2c2cd31d9a6be6418a0f2bbb8fb7f18e29d5439b0fdfb8461df3fa5746",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": null
    },
    {
      "Text": "[plang] validate and load %prGoal%\n    on error call FixGoal retry 3 times",
      "Comment": null,
      "ModuleType": "PLang.Modules.PlangModule",
      "Name": "validate_and_load_prgoal_with_error_handling",
      "Description": "Perform validation and loading of the %prGoal% variable. If an error occurs during this process, call the FixGoal step to attempt correction, and retry the entire operation up to 3 times before failing.",
      "PrFileName": "05. validate_and_load_prgoal_with_error_handling.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\05. validate_and_load_prgoal_with_error_handling.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-12-06T22:20:09.3311291+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": [
        {
          "IgnoreError": false,
          "Message": null,
          "StatusCode": null,
          "Key": "*",
          "GoalToCall": {
            "Path": ".build\\Build\\FixGoal\\00. Goal.pr",
            "Name": "FixGoal",
            "Parameters": {}
          },
          "RetryHandler": {
            "RetryCount": 3,
            "RetryDelayInMilliseconds": null
          },
          "RunRetryBeforeCallingGoalToCall": false
        }
      ],
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 4,
      "LineNumber": 20,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "d70b1e5bcb25da71d47635ce2e349e740634189b3c2e4e56cd0bc025df7147fd",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": null
    },
    {
      "Text": "foreach %prGoal.steps% call goal AnalyzeStep item=%step%",
      "Comment": null,
      "ModuleType": "PLang.Modules.LoopModule",
      "Name": "foreach_prgoal_steps_call_analyzestep",
      "Description": "For every element in the collection stored in the variable %prGoal.steps%, execute the goal named AnalyzeStep, passing the current element as the parameter named item. This allows processing each step individually in a loop.",
      "PrFileName": "06. foreach_prgoal_steps_call_analyzestep.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\06. foreach_prgoal_steps_call_analyzestep.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-12-06T23:04:07.4368865+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 5,
      "LineNumber": 22,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "8ac7f481d390dee72951ee41595acedc070031c0ca1d31d15ca35f710b29469e",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": null
    },
    {
      "Text": "[plang] save %prGoal% to %goal.PrPath%",
      "Comment": null,
      "ModuleType": "PLang.Modules.PlangModule",
      "Name": "save_variable_to_file_path",
      "Description": "Take the data stored in the variable %prGoal% and write it to the file location specified by the variable %goal.PrPath%. This involves file output operation within the plang environment.",
      "PrFileName": "07. save_variable_to_file_path.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\07. save_variable_to_file_path.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-12-06T22:20:15.6650121+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 6,
      "LineNumber": 23,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "46865ce6f020bfe91f46e3ba8ea535ab6e1a4bcf5ef02925b82faec8bdcf5ba0",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": null
    },
    {
      "Text": "write out \"%goal.GoalName% has been built - time: %!goal.Stopwatch.ToString()%\"",
      "Comment": null,
      "ModuleType": "PLang.Modules.OutputModule",
      "Name": "write_out_goal_build_time_message",
      "Description": "Construct a message string that includes the name of the goal and the elapsed time from the stopwatch, then write this message to the output stream for user or system consumption.",
      "PrFileName": "08. write_out_goal_build_time_message.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\08. write_out_goal_build_time_message.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-12-06T22:20:22.7057881+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 7,
      "LineNumber": 24,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "30044b8452ea32402699b4b50fc064416cac8d0d22ca6ec8fe037a2a4806c840",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": null
    }
  ],
  "SubGoals": [],
  "Description": "The AnalyzeGoal is designed to analyze a specified goal by performing a series of steps. It begins by outputting a message indicating the goal being analyzed. It retrieves all modules and stores them in the variable %modules%. The goal's system variables are loaded and stored in %system%. The system is then processed with the goal's text and scheme, resulting in a processed goal stored in %prGoal%. This processed goal is validated and loaded, with error handling to retry if necessary. Each step of the processed goal is analyzed through the AnalyzeStep goal. Finally, the processed goal is saved to a specified path, and a completion message is outputted, including the time taken for the analysis.",
  "Visibility": 0,
  "GoalFileName": "Build.goal",
  "PrFileName": "00. Goal.pr",
  "RelativeGoalPath": "\\Build.goal",
  "RelativeGoalFolderPath": "\\",
  "RelativePrPath": ".build\\Build\\AnalyzeGoal\\00. Goal.pr",
  "RelativePrFolderPath": ".build\\Build\\AnalyzeGoal",
  "RelativeAppStartupFolderPath": null,
  "BuilderVersion": "0.1.18.1",
  "GoalInfo": null,
  "Injections": [],
  "Signature": null,
  "Hash": "b1480c9fce4974145ae4afa8bc128959c74f446610eabcfaf264a90733ba0206",
  "IncomingVariablesRequired": {
    "goal.goalName": "The name of the goal being analyzed.",
    "goal.Text": "The text associated with the goal.",
    "goalScheme": "The scheme that defines the structure of the goal.",
    "goal.PrPath": "The path where the processed goal should be saved."
  },
  "DataSourceName": null,
  "IsSetup": false,
  "IsEvent": false
}