{
  "GoalName": "AnalyzeGoal",
  "Comment": null,
  "GoalSteps": [
    {
      "Text": "write out \"Analyzing goal \\n%goal.TextWithLineNumber% ...\"",
      "Comment": null,
      "ModuleType": "PLang.Modules.OutputModule",
      "Name": "write_out_goal_text_with_line_number",
      "Description": "Write out the string 'Analyzing goal' followed by a newline and then the content of the variable %goal.TextWithLineNumber% and ellipsis to indicate continuation. This is likely for user feedback or logging purposes.",
      "PrFileName": "01. write_out_goal_text_with_line_number.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\01. write_out_goal_text_with_line_number.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-12-08T12:45:34.663019+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 0,
      "LineNumber": 17,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "a86d28461a615dd224d4769871106791f46beda3037f4fffffb24ce31f868b52",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": null
    },
    {
      "Text": "[plang] get all modules (GetAllModules2), write to %modules%",
      "Comment": null,
      "ModuleType": "PLang.Modules.PlangModule",
      "Name": "get_all_modules",
      "Description": "Invoke the PlangModule to retrieve all modules available in the system, then write the output to the variable %modules% for further use.",
      "PrFileName": "02. get_all_modules.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\02. get_all_modules.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-12-08T16:36:45.355867+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 1,
      "LineNumber": 18,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "b7dcf5ef52cc0b6c0f0ce16ccb6ea568d0c8422e8b62339467afd72fe8197b2e",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": null
    },
    {
      "Text": "render template \"/system/modules/plang/templates/GetModules.html\", write to %modulesHtml%",
      "Comment": null,
      "ModuleType": "PLang.Modules.TemplateEngineModule",
      "Name": "render_template_to_variable",
      "Description": "Render the HTML template located at /system/modules/plang/templates/GetModules.html and write the rendered HTML content into the variable %modulesHtml% for further use",
      "PrFileName": "03. render_template_to_variable.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\03. render_template_to_variable.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-12-08T16:28:43.9492969+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 2,
      "LineNumber": 19,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "a8b794f03499b94dc4b490503bf0add4f204b0853b6f8590978fa2c7ae47a175",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": null
    },
    {
      "Text": "read llm/goalSystem.llm, load vars, write to %system%",
      "Comment": null,
      "ModuleType": "PLang.Modules.FileModule",
      "Name": "read_llm_goal_system_llm_load_vars_write_to_system",
      "Description": "Open and read the file located at 'llm/goalSystem.llm', parse or load any variables contained within that file, and then assign the loaded data to the variable named %system% for further use.",
      "PrFileName": "04. read_llm_goal_system_llm_load_vars_write_to_system.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\04. read_llm_goal_system_llm_load_vars_write_to_system.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-12-08T16:00:12.8153006+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 3,
      "LineNumber": 20,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "659763df99519bd88b5a4c689d19b674d1fd359ad01b9ddc83dca2ba569014bf",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": null
    },
    {
      "Text": "[llm] system: %system%\n    user: %goal.TextWithLineNumber%\n    scheme:typeof = plang.PrGoal \n    write to %prGoal%",
      "Comment": null,
      "ModuleType": "PLang.Modules.LlmModule",
      "Name": "call_llm_with_system_and_user_prompt",
      "Description": "Send a request to the language model with the system prompt stored in %system% and the user prompt from %goal.TextWithLineNumber%. The response is expected to be of type plang.PrGoal and is stored in the variable %prGoal%.",
      "PrFileName": "05. call_llm_with_system_and_user_prompt.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\05. call_llm_with_system_and_user_prompt.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": null,
      "Inconsistency": null,
      "Generated": "2025-12-08T16:00:12.9381806+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 4,
      "LineNumber": 21,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "7fa3eeb6e1e79f80bb8ffd52a83f9f73ed5a539fdb2dffc4e5e3fb3fb3df165d",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": null
    },
    {
      "Text": "[plang] validate and load prGoal=%prGoal%, goal=%goal%\n    on error call FixGoal retry 3 times",
      "Comment": "check if name, description is empty, if steps match to goal",
      "ModuleType": "PLang.Modules.PlangModule",
      "Name": "validate_and_load_prgoal_and_goal_with_retry",
      "Description": "This step attempts to validate and load the variables prGoal and goal. If an error occurs during this process, it will call the FixGoal step to correct the issue and retry the validation up to three times before failing.",
      "PrFileName": "06. validate_and_load_prgoal_and_goal_with_retry.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\06. validate_and_load_prgoal_and_goal_with_retry.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": "Very High",
      "Inconsistency": null,
      "Generated": "2025-12-09T17:08:29.1989942+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": [
        {
          "IgnoreError": false,
          "Message": null,
          "StatusCode": null,
          "Key": "*",
          "GoalToCall": {
            "Path": ".build\\Build\\FixGoal\\00. Goal.pr",
            "Name": "FixGoal",
            "Parameters": {},
            "IsAsync": false,
            "WaitBeforeExecutingInMs": 0,
            "AfterExecution": null
          },
          "RetryHandler": {
            "RetryCount": 3,
            "RetryDelayInMilliseconds": null
          },
          "RunRetryBeforeCallingGoalToCall": false
        }
      ],
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 5,
      "LineNumber": 27,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "49c487d01b782f216922cc027c13c08348ac3289d6444c03e6b78589cda5f1cc",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": "Validate the variables prGoal and goal, and load their values; if validation fails, call the FixGoal step and retry up to 3 times"
    },
    {
      "Text": "foreach %prGoal.steps% call goal AnalyzeStepErrorHandler item=%step%",
      "Comment": "- write out \"goal: %goal%\\nprGoal:%prGoal%\"",
      "ModuleType": "PLang.Modules.LoopModule",
      "Name": "foreach_step_call_analyze_step_error_handler",
      "Description": "For every element in the prGoal.steps list, execute the goal named AnalyzeStepErrorHandler, providing the current element as the variable step to the goal",
      "PrFileName": "07. foreach_step_call_analyze_step_error_handler.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\07. foreach_step_call_analyze_step_error_handler.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": "Very High",
      "Inconsistency": null,
      "Generated": "2025-12-09T17:08:37.6360635+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 6,
      "LineNumber": 30,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "169a0380a065eb834261062cfe37f2a3047ab6e254af098bdb6390bda8d23488",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": "Iterate over each step in the prGoal.steps collection and call the AnalyzeStepErrorHandler goal for each step, passing the current step as an item parameter"
    },
    {
      "Text": "[plang] save %prGoal% to %goal.PrPath%",
      "Comment": null,
      "ModuleType": "PLang.Modules.PlangModule",
      "Name": "save_variable_to_file_path",
      "Description": "Take the data stored in the variable %prGoal% and write it to the file location specified by the variable %goal.PrPath%. This involves file output operation within the plang environment.",
      "PrFileName": "08. save_variable_to_file_path.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\08. save_variable_to_file_path.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": "Medium",
      "Inconsistency": null,
      "Generated": "2025-12-09T17:08:45.5755431+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 7,
      "LineNumber": 31,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "dfec350a6d3773a34aa77cfc0a22c2ff9ff52dad644c75d26fc3b32514e08205",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": "Save the content of the variable %prGoal% to a file path specified by %goal.PrPath%"
    },
    {
      "Text": "write out \"%goal.GoalName% has been built - time: %!goal.Stopwatch.ToString()%\"",
      "Comment": null,
      "ModuleType": "PLang.Modules.OutputModule",
      "Name": "write_out_goal_build_time",
      "Description": "Construct a string message that includes the name of the goal and the time taken as recorded by the stopwatch, then write this message to the output stream for display or logging purposes.",
      "PrFileName": "09. write_out_goal_build_time.pr",
      "RelativePrPath": ".build\\Build\\AnalyzeGoal\\09. write_out_goal_build_time.pr",
      "InstructionHash": null,
      "Indent": 0,
      "Execute": true,
      "RunOnce": false,
      "Confidence": "Very High",
      "Inconsistency": null,
      "Generated": "2025-12-09T17:08:51.2997707+00:00",
      "WaitForExecution": true,
      "LoggerLevel": null,
      "ErrorHandlers": null,
      "Retry": false,
      "RetryCount": 1,
      "CacheHandler": null,
      "CancellationHandler": null,
      "Number": 8,
      "LineNumber": 32,
      "EventBinding": null,
      "IsEvent": false,
      "Hash": "1d22456c36b51c4c73a6d2860283c594ce5e3e472df6e1d516852fadbda9639f",
      "BuilderVersion": null,
      "RelativeGoalPath": "\\Build.goal",
      "UserIntent": "Output a message to the user or system indicating that a specific goal has been built along with the elapsed time recorded by a stopwatch."
    }
  ],
  "SubGoals": [],
  "Description": "The AnalyzeGoal is designed to analyze a specific goal by performing a series of steps. It begins by outputting the goal's text with line numbers, retrieves all modules, renders a template for the modules, and loads system variables. It then validates the loaded goal against the provided prGoal, checking for empty fields and matching steps. If validation fails, it attempts to fix the goal up to three times. After processing each step in prGoal, it saves the prGoal to the specified path and outputs a completion message with the goal's name and elapsed time.",
  "Visibility": 0,
  "GoalFileName": "Build.goal",
  "PrFileName": "00. Goal.pr",
  "RelativeGoalPath": "\\Build.goal",
  "RelativeGoalFolderPath": "\\",
  "RelativePrPath": ".build\\Build\\AnalyzeGoal\\00. Goal.pr",
  "RelativePrFolderPath": ".build\\Build\\AnalyzeGoal",
  "RelativeAppStartupFolderPath": null,
  "BuilderVersion": "0.1.18.1",
  "GoalInfo": null,
  "Injections": [],
  "Signature": null,
  "Hash": "fc27ab537a5b4dbbbecc8186e521387585b0b3ff9b18c7f2de7c770d5d2ec6fb",
  "IncomingVariablesRequired": {
    "%goal%": "The goal object that contains the text, name, and other properties necessary for analysis.",
    "%goal.TextWithLineNumber%": "The text of the goal with line numbers for reference during analysis.",
    "%goal.PrPath%": "The path where the processed prGoal should be saved.",
    "%goal.GoalName%": "The name of the goal to be displayed in the completion message."
  },
  "DataSourceName": null,
  "IsSetup": false,
  "IsEvent": false
}