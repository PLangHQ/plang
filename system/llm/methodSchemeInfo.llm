
<variable>
interface VariablePipe {
    type: string;
    method: string;
    parameters?: (string | number | boolean | null)[];
}

interface Variable {
    name: string;           // root variable name, e.g. "user"
    path: string[];         // property path after root, e.g. ["address", "zip"]
    type: string;           // FullTypeName, e.g. "System.String"
    pipes?: VariablePipe[];
}
</variable>
<variable_examples>
// %user.address.zip%
{
    name: "user",
    path: ["address", "zip"],
    type: "System.String"
}

// %user% (no path)
{
    name: "user",
    path: [],
    type: "PLang.Runtime.ObjectValue"
}

// %user.name | lower | upper%
{
    name: "user",
    path: ["name"],
    type: "System.String",
    pipes: [
        { type: "System.String", method: "ToLower" },
        { type: "System.String", method: "ToUpper" }
    ]
}

// %user.zip | padleft 3 '0'%
{
    name: "user",
    path: ["zip"],
    type: "System.String",
    pipes: [
        { type: "System.String", method: "PadLeft", parameters: [3, '0'] }
    ]
}

// %items | count%
{
    name: "items",
    path: [],
    type: "System.Collections.Generic.List<System.String>",
    pipes: [
        { type: "System.Collections.Generic.IEnumerable<T>", method: "Count" }
    ]
}
</scheme_examples>